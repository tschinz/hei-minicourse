
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercise 10 - Exception handling &#8212; Mini-Kurse</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/customize.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/font_button.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://tschinz.github.io/hei-minicourse/content-de/python/lab/ex10-exceptions.html" />
    <link rel="shortcut icon" href="../../../_static/hei-icon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/hei-en.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Mini-Kurse</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../00-intro.html">
   Ingenieurschule Sitten - Mini-Kurse
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Einführung
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro/00-computer.html">
   Computer Entwicklung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro/01-programming.html">
   Moderne Ansätze zur Programmierung
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Git
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../git/intro/00-intro.html">
   Einführung
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/intro/01-commands.html">
     Kommandos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/intro/02-branch-merge.html">
     Branch und Merge
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/intro/03-gitflow.html">
     Gitflow
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../git/lab/00-intro.html">
   Labor
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/lab/01-config.html">
     Konfiguration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/lab/02-general.html">
     Basis Operationen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/lab/03-github.html">
     GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/lab/04-branch-merge.html">
     Branch und Merge
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/lab/05-gitflow.html">
     Gitflow
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Python
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../intro/00-intro.html">
   Einführung
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/01-hello_world.html">
     Hello World
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/02-jupyter.html">
     Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/03-ipython.html">
     ipython
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/04-datatypes.html">
     Python Datentypen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/05-object_oriented.html">
     Objektorientierte Programmierung
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../advanced/00-intro.html">
   Weiterführende Aufgaben
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../advanced/01-enigma-machine.html">
     Enigma Chiffriergerät
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Java
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../java/maze/00-intro.html">
   Maze Labor
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../java/maze/01-display_solution.html">
     Teil 1 - Anzeigen und aus dem Labyrinth herauskommen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../java/maze/02-movement_logic.html">
     Teil 2 - Spielerbewegung und Spiellogik
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Arduino
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../arduino/attiny-console/00-intro.html">
   ATtiny Console (HEI LYNX)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../arduino/attiny-console/01-soldering.html">
     Löten des PCB
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../arduino/attiny-console/02-commissioning.html">
     In Betrieb nehmen
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Anhang
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../01-bibliography.html">
   Bibliography
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../02-contact.html">
   Kontakt
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <button type="button" onclick="legibleFontSwitcher()">Switch Font</button>&nbsp;&nbsp;<button type="button" onclick="fontScaler(1.1)">&#10133;</button><button type="button" onclick="fontScaler(0.0)">&#9679;</button><button type="button" onclick="fontScaler(0.909)">&#10134;</button></br></br>Presented by <a href="https://www.hevs.ch/de/Hochschule/hochschule-fur-ingenieurwissenschaften/systemtechnik/bachelorausbildung-in-systemtechnik-200051">HEI-Vs</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/content-de/python/lab/ex10-exceptions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/tschinz/hei-minicourse/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/tschinz/hei-minicourse//issues/new?title=Issue%20on%20page%20%2Fcontent-de/python/lab/ex10-exceptions.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/tschinz/hei-minicourse/main?urlpath=tree/jupyterbook/content-de/python/lab/ex10-exceptions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/tschinz/hei-minicourse/blob/main/jupyterbook/content-de/python/lab/ex10-exceptions.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Exercise 10 - Exception handling</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="exercise-10-exception-handling">
<h1>Exercise 10 - Exception handling<a class="headerlink" href="#exercise-10-exception-handling" title="Permalink to this headline">¶</a></h1>
<p>By now, you will almost certainly have encountered ‘exceptions’ - the error messages that appear when you ask Python to do something that it doesn’t like. For example, the following code will raise an exception:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>Attempting to execute this code results in some text similar to this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
&lt;ipython-input-1-ba5ce40e4136&gt; in &lt;module&gt;()
      1 a = [1, 2, 3]
----&gt; 2 print(a[4])

IndexError: list index out of range
</pre></div>
</div>
<p>The error here is that we have tried to access the 5th element of <code class="docutils literal notranslate"><span class="pre">a</span></code> (remember, counting starts from zero!), but <code class="docutils literal notranslate"><span class="pre">a</span></code> only contains three entries.</p>
<p>Another example might be</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="s1">&#39;hello&#39;</span>
</pre></div>
</div>
<p>which generates</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-2-41d1b959c123&gt; in &lt;module&gt;()
----&gt; 1 1 + &#39;hello&#39;

TypeError: unsupported operand type(s) for +: &#39;int&#39; and &#39;str&#39;
</pre></div>
</div>
<p>Notice that these two error messages have different headlines: the first is an <code class="docutils literal notranslate"><span class="pre">IndexError</span></code>, whereas the second is a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>. You will notice that a variety of other kinds of error exist.</p>
<p>If these errors are simply coding mistakes, it is useful to have the program terminate immediately, so we can fix it. However, in ‘real’ code these sorts of problem may arise for reasons beyond the programmer’s control - perhaps the user has provided an incorrect set of inputs, for example. It is therefore often useful to be able to ‘catch’ and ‘handle’ exceptions in a graceful manner.</p>
<p>To do this, Python provides the <code class="docutils literal notranslate"><span class="pre">try...</span> <span class="pre">except...</span></code> construct. This looks like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span> <span class="n">that</span> <span class="n">may</span> <span class="n">fail</span><span class="p">]</span>
<span class="k">except</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span> <span class="n">to</span> <span class="n">handle</span> <span class="n">the</span> <span class="n">error</span><span class="p">]</span>
</pre></div>
</div>
<p>When a <code class="docutils literal notranslate"><span class="pre">try...except...</span></code> construct is encountered, Python first attempts to execute all the code within the indented <code class="docutils literal notranslate"><span class="pre">try</span></code> block. If this is successful, the code within the <code class="docutils literal notranslate"><span class="pre">except</span></code> block is never executed. However, as soon as an error is encountered, Python stops attempting to execute the <code class="docutils literal notranslate"><span class="pre">try</span></code> block, and jumps immediately to the first line in the <code class="docutils literal notranslate"><span class="pre">except</span></code> block. It executes everything in the <code class="docutils literal notranslate"><span class="pre">except</span></code> block, and then (assuming no more errors arise) continues with the first line <em>after</em> the <code class="docutils literal notranslate"><span class="pre">try...except...</span></code> construct.</p>
<p>So, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please enter a number: &#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The next number is: &quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sorry, that is not a valid number&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>will gracefully handle cases where the user types text into the input field.</p>
<p><strong>➤ Try it out!</strong> Compare how Python behaves with, and without, the <code class="docutils literal notranslate"><span class="pre">try...except...</span></code> construct.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Try it here!</span>
</pre></div>
</div>
</div>
</div>
<p>This kind of error handling is sometimes referred to as the ‘EAFP’ model: “easier to ask forgiveness than permission”. Rather than attempting to verify that everything is correct <em>before</em> carrying out an operation - a process which can be tedious and computationally inefficient - we start by assuming everything will work, and then deal with any mess that we create.</p>
<p>Our <code class="docutils literal notranslate"><span class="pre">try...</span> <span class="pre">except...</span></code> statement above will handle <em>any</em> kind of error that might arise. This may seem superficially attractive, but it can lead to confusion. For example, suppose we had made a typo in our code, referring to a variable <code class="docutils literal notranslate"><span class="pre">z</span></code> (which doesn’t exist):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please enter a number: &#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The next number is: &quot;</span><span class="p">,</span> <span class="n">z</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sorry, that is not a valid number&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, this will always complain that we have entered an invalid number - even though this is not the real problem. If we remove the <code class="docutils literal notranslate"><span class="pre">try...</span> <span class="pre">except...</span></code> we see that this code is triggerring a <code class="docutils literal notranslate"><span class="pre">NameError</span></code>, rather than the <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> that we intended to avoid. If this were ‘real’ code, we might waste a lot of time trying to understand why Python thought we were entering invalid numbers.</p>
<p><strong>➤ Try it out!</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Try it here!</span>
</pre></div>
</div>
</div>
</div>
<p>To avoid this, we can specify what sort of error(s) the <code class="docutils literal notranslate"><span class="pre">except</span></code> block is intended to handle:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please enter a number: &#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The next number is: &quot;</span><span class="p">,</span> <span class="n">z</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sorry, that is not a valid number&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, our typo will be obvious when we try and run the code, but once it is fixed everything will work as expected. If necessary, we can have one <code class="docutils literal notranslate"><span class="pre">except</span></code> that catches multiple types of exception</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span><span class="p">]</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span><span class="p">]</span>
</pre></div>
</div>
<p>and we can have multiple <code class="docutils literal notranslate"><span class="pre">except</span></code> blocks to handle different errors in different ways:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span><span class="p">]</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span><span class="p">]</span>
<span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span><span class="p">]</span>
<span class="k">except</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span><span class="p">]</span>
</pre></div>
</div>
<p>In the above example, the ‘bare’ <code class="docutils literal notranslate"><span class="pre">except</span></code> at the end is optional, and will catch all errors that do not match one of the ‘named’ exception handlers. For example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please enter a number: &#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The next number is: &quot;</span><span class="p">,</span> <span class="n">z</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sorry, that is not a valid number&quot;</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Something unexpected happened&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>will catch the error arising from our typo.</p>
<p><strong>➤ Try it out!</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Try it here!</span>
</pre></div>
</div>
</div>
</div>
<p>Exception handling can sometimes be a central part of your code design. Suppose you need to write a piece of code to sum up the entries in a list (and you have forgotten that Python’s <code class="docutils literal notranslate"><span class="pre">sum()</span></code> function exists to do this). One solution (the cleanest, and so the best) would be to loop over the entries in the array:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="n">x</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>However, you could also write something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>While this is unnecessarily complicated for such a straightfoward example, it illustrates how exception-handling can be used to control the flow of a program.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Try it here!</span>
</pre></div>
</div>
</div>
</div>
<p>It is tempting to overuse <code class="docutils literal notranslate"><span class="pre">try...except...</span></code> clauses, to supress Python’s built-in errror messages. Generally this will be a mistake, as it will make it harder to identify the causes of bugs. It is best to only use <code class="docutils literal notranslate"><span class="pre">try...except...</span></code> when necessary to handle ‘predictable’ error cases, or in production code.</p>
<p><strong>➤ In Exercise 4, you made a guessing game. Using <code class="docutils literal notranslate"><span class="pre">try...except...</span></code>, adapt it so that if the user enters anything other than an integer, they are prompted to ‘try again’.</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Try it here!</span>
</pre></div>
</div>
</div>
</div>
<p>Sometimes, it is useful to be able to access more information about the exact error that occurred. This can be achieved by modifying the <code class="docutils literal notranslate"><span class="pre">except</span></code> statement:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span><span class="p">]</span>
<span class="k">except</span> <span class="o">&lt;</span><span class="n">ErrorType</span><span class="o">&gt;</span> <span class="k">as</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span><span class="p">]</span>
</pre></div>
</div>
<p>As an example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="s1">&#39;hello&#39;</span>
<span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is an error&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, if a TypeError is raised, Python creates the variable <code class="docutils literal notranslate"><span class="pre">err</span></code> and sets it to contain some more detailed information about the error. We can then use this to give a more detailed report, or to help us handle the problem. Different types of error may store different information within the variable.</p>
<p><strong>➤ Try it out!</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Try it here!</span>
</pre></div>
</div>
</div>
</div>
<p>Sometimes, there may be code that you want to execute regardless of whether an error occurs or not. For example, you might wish to save some information about the stage your program has reached, or delete temporary files. To help with this, Python provides a variant of <code class="docutils literal notranslate"><span class="pre">try...except...</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span><span class="p">]</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="p">[</span><span class="n">code</span><span class="p">]</span>
</pre></div>
</div>
<p>The code within the <code class="docutils literal notranslate"><span class="pre">finally</span></code> block is <em>always</em> executed, either after everything in <code class="docutils literal notranslate"><span class="pre">try</span></code> has been successfully completed, or <em>before</em> an error is propagated. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">x</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This line is printed *before* the error is raised...&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">try...finally...</span></code> occurs in a function, and <code class="docutils literal notranslate"><span class="pre">finally</span></code> contains a <code class="docutils literal notranslate"><span class="pre">return</span> </code>statement the error is never raised. Similarly, if <code class="docutils literal notranslate"><span class="pre">try...finally...</span></code> occurs in a loop, and <code class="docutils literal notranslate"><span class="pre">finally</span></code> contains a <code class="docutils literal notranslate"><span class="pre">break</span></code> statement, the error is discarded.</p>
<p><strong>➤ Try it out!</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Try it here!</span>
</pre></div>
</div>
</div>
</div>
<p>Python also allows you to <code class="docutils literal notranslate"><span class="pre">raise</span></code> errors within your code, triggering the error-handling mechanisms already described. This is achieved by the command</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">raise</span> <span class="o">&lt;</span><span class="n">ErrorType</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">raise</span> <span class="o">&lt;</span><span class="n">ErrorType</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">message</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>For example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">raise</span> <span class="ne">IndexError</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s2">&quot;This is just an example&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>A file <code class="docutils literal notranslate"><span class="pre">some_data.txt</span></code> is present in this folder. Use the skills you acquired during the last exercises to build a function that loads this file and multiply the two columns together. Do the sum for each line. If the sum is different from 100, raise a ValueError with a message saying that the sum of columns should be 100.</p>
<p><strong>➤ Try it out!</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Try it here!</span>
</pre></div>
</div>
</div>
</div>
<p>In conjunction with <code class="docutils literal notranslate"><span class="pre">try...except...</span></code>, <code class="docutils literal notranslate"><span class="pre">raise</span></code> can allow an effective mechanism for controlling program flow, since an exception raised within a function (within another function, within…) can be caught and handled at the top-most level. For example, one might write something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_consistency</span><span class="p">(</span><span class="n">datafile_lines</span><span class="p">):</span>
    <span class="c1"># Checks whether datafile contents are self-consistent</span>
    <span class="p">[</span><span class="o">...</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">[</span><span class="o">...</span><span class="p">]:</span>
        <span class="c1"># File is good</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
   
<span class="k">def</span> <span class="nf">load_datafile</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="c1"># Load data from file</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">check_consistency</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;Datafile is not self-consistent&quot;</span><span class="p">)</span>
            
<span class="k">def</span> <span class="nf">restart_calculation</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="c1"># Attempt to resume interrupted calculation</span>
    <span class="p">[</span><span class="o">...</span><span class="p">]</span>
    <span class="n">load_datafile</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="p">[</span><span class="o">...</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">program_startup</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="p">[</span><span class="o">...</span><span class="p">]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">restart_calcuation</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
        <span class="n">start_new_calculation</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, the <code class="docutils literal notranslate"><span class="pre">program_startup</span></code> routine attempts to restart an existing, previous calculation based on information in a file, but if reading this file fails for any reason, it will simply start the calculation afresh.</p>
<p><strong>➤ Earlier, you wrote some code to compute the sum of columns of a dataset. Using the structure described above, adapt this so that if the file doesn’t exist, the dataset
<code class="docutils literal notranslate"><span class="pre">[[1.,99.],[2.,98.],[3.,97.]]</span></code> is processed instead.</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Try it here!</span>
</pre></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content-de/python/lab"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By HEI-Vs - Silvan Zahno<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>