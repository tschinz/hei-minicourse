
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Programmierung &#8212; Der Weg zum Ingenieur</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/customize.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/font_button.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="http://promotion.hevs.io/minicourse/hei-minicourse/content-de/python/advanced/01-enigma-machine.html" />
    <link rel="shortcut icon" href="../../../_static/hei-icon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Maze Labor" href="../../java/maze/00-intro.html" />
    <link rel="prev" title="Aufgabenstellung" href="01-enigma-lab.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/hei-defr.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Der Weg zum Ingenieur</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../00-intro.html">
   Der Weg zum Ingenieur
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Einführung
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro/00-computer.html">
   Computer Entwicklung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro/01-programming.html">
   Moderne Ansätze zur Programmierung
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Git
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../git/intro/00-intro.html">
   Einführung
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/intro/01-commands.html">
     Kommandos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/intro/02-branch-merge.html">
     Branch und Merge
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/intro/03-gitflow.html">
     Gitflow
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../git/lab/00-intro.html">
   Labor
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/lab/01-config.html">
     Konfiguration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/lab/02-general.html">
     Basis Operationen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/lab/03-github.html">
     GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/lab/04-branch-merge.html">
     Branch und Merge
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../git/lab/05-gitflow.html">
     Gitflow
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Python
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../intro/00-intro.html">
   Einführung
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/01-hello_world.html">
     Hello World
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/02-jupyter.html">
     Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/03-ipython.html">
     ipython
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/04-datatypes.html">
     Python Datentypen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/05-object_oriented.html">
     Objektorientierte Programmierung
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="01-enigma-intro.html">
   Enigma Machine
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01-enigma-lab.html">
     Aufgabenstellung
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Programmierung
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Java
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../java/maze/00-intro.html">
   Maze Labor
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../java/maze/01-display_solution.html">
     Teil 1 - Anzeigen und aus dem Labyrinth herauskommen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../java/maze/02-movement_logic.html">
     Teil 2 - Spielerbewegung und Spiellogik
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Arduino
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../arduino/attiny-console/00-intro.html">
   ATtiny Console v1 (HEI LYNX)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../arduino/attiny-console/01-design.html">
     Der Schaltplan
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../arduino/attiny-console/02-soldering.html">
     Löten des PCB
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../arduino/attiny-console/03-toolchain.html">
     Arduino IDE
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../arduino/attiny-console/04-commissioning.html">
     In Betrieb nehmen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../arduino/attiny-console-v2/00-intro.html">
   ATtiny Console v2 (HEI LYNX)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../arduino/attiny-console-v2/01-design.html">
     Der Schaltplan
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../arduino/attiny-console-v2/02-soldering.html">
     Löten des PCB
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../arduino/attiny-console-v2/03-toolchain.html">
     Arduino IDE
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../arduino/attiny-console-v2/04-commissioning.html">
     In Betrieb nehmen
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Anhang
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../01-bibliography.html">
   Bibliography
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../02-contact.html">
   Kontakt
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Presented by <a href="https://www.hevs.ch/de/Hochschule/hochschule-fur-ingenieurwissenschaften/systemtechnik/bachelorausbildung-in-systemtechnik-200051">HEI-Vs</a></br></br><button type="button" onclick="legibleFontSwitcher()">Switch Font</button>&nbsp;&nbsp;<button type="button" onclick="fontScaler(1.1)">&#10133;</button><button type="button" onclick="fontScaler(0.0)">&#9679;</button><button type="button" onclick="fontScaler(0.909)">&#10134;</button>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/content-de/python/advanced/01-enigma-machine.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/tschinz/hei-minicourse/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/tschinz/hei-minicourse//issues/new?title=Issue%20on%20page%20%2Fcontent-de/python/advanced/01-enigma-machine.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/tschinz/hei-minicourse/main?urlpath=tree/jupyterbook/content-de/python/advanced/01-enigma-machine.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/tschinz/hei-minicourse/blob/main/jupyterbook/content-de/python/advanced/01-enigma-machine.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#casar-chiffre">
   Cäsar Chiffre
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#todo-1">
     TODO 1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#todo-2">
     TODO 2
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#todo-3">
     TODO 3
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#todo-4">
     TODO 4
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#todo-5">
     TODO 5
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#entwickeln-der-enigma">
   Entwickeln der Enigma
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scrambler">
     Scrambler
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#test-scrambler">
     Test Scrambler
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#enigma-machine">
     Enigma Machine
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#test">
   Test
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#verschlusselte-kommunikation-mit-eurem-kollegen">
   Verschlüsselte Kommunikation mit eurem Kollegen
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#verschlusselte-nachricht">
     Verschlüsselte Nachricht
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nachricht-des-kollegen-entschlusseln">
     Nachricht des Kollegen entschlüsseln
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#solution">
   Solution
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Programmierung</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#casar-chiffre">
   Cäsar Chiffre
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#todo-1">
     TODO 1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#todo-2">
     TODO 2
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#todo-3">
     TODO 3
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#todo-4">
     TODO 4
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#todo-5">
     TODO 5
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#entwickeln-der-enigma">
   Entwickeln der Enigma
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scrambler">
     Scrambler
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#test-scrambler">
     Test Scrambler
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#enigma-machine">
     Enigma Machine
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#test">
   Test
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#verschlusselte-kommunikation-mit-eurem-kollegen">
   Verschlüsselte Kommunikation mit eurem Kollegen
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#verschlusselte-nachricht">
     Verschlüsselte Nachricht
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nachricht-des-kollegen-entschlusseln">
     Nachricht des Kollegen entschlüsseln
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#solution">
   Solution
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="programmierung">
<h1>Programmierung<a class="headerlink" href="#programmierung" title="Permalink to this headline">¶</a></h1>
<p>Lest sorgfältig die <a class="reference internal" href="01-enigma-lab.html"><span class="doc std std-doc">Aufgabenstellung</span></a> und ergänzt den Code.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Mit dem <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">TODO</span> <span class="pre">#</span></code> werden stellen markiert die ihr Bearbeiten müsst.</p>
</div>
<div class="section" id="casar-chiffre">
<h2>Cäsar Chiffre<a class="headerlink" href="#casar-chiffre" title="Permalink to this headline">¶</a></h2>
<p>Aber als erstes wird ein Alphabet benötigt.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Führe diese Zelle aus</span>
<span class="n">alphabet</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="todo-1">
<h3>TODO 1<a class="headerlink" href="#todo-1" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># TODO 1</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="todo-2">
<h3>TODO 2<a class="headerlink" href="#todo-2" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">isLetter</span><span class="p">(</span><span class="n">character</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Checks if the character is a letter in the alphabet</span>

<span class="sd">  Args:</span>
<span class="sd">      character (str): character to verify</span>

<span class="sd">  Returns:</span>
<span class="sd">      bool: if character is a letter</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="c1"># TODO 2</span>


<span class="c1"># Test the function</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;H is a letter: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">isLetter</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ä is a letter: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">isLetter</span><span class="p">(</span><span class="s2">&quot;Ä&quot;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="todo-3">
<h3>TODO 3<a class="headerlink" href="#todo-3" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">idxOfLetter</span><span class="p">(</span><span class="n">letter</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot; Function returns the index of the letter within the alphabet</span>

<span class="sd">  Args:</span>
<span class="sd">      letter (str): letter to search</span>

<span class="sd">  Returns:</span>
<span class="sd">      int: index of letter in the alphabet</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="c1"># TODO 3</span>


<span class="c1"># Test</span>
<span class="nb">print</span><span class="p">(</span><span class="n">idxOfLetter</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">idxOfLetter</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">idxOfLetter</span><span class="p">(</span><span class="s2">&quot;Z&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="todo-4">
<h3>TODO 4<a class="headerlink" href="#todo-4" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">incrementIndex</span><span class="p">(</span><span class="n">index</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;increments the index according to the k value, the output value stays within the range [0-25]</span>

<span class="sd">  Args:</span>
<span class="sd">      index (int): index of letter</span>
<span class="sd">      k (int): index shift</span>

<span class="sd">  Returns:</span>
<span class="sd">      int: new index of letter</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="c1"># TODO 4</span>

<span class="c1"># Test the function</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The index </span><span class="si">{}</span><span class="s2"> has shifted by </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">incrementIndex</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The index </span><span class="si">{}</span><span class="s2"> has shifted by </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">incrementIndex</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The index </span><span class="si">{}</span><span class="s2"> has shifted by </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">incrementIndex</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The index </span><span class="si">{}</span><span class="s2"> has shifted by </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">incrementIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The index </span><span class="si">{}</span><span class="s2"> has shifted by </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">incrementIndex</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The index </span><span class="si">{}</span><span class="s2"> has shifted by </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">incrementIndex</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The index </span><span class="si">{}</span><span class="s2"> has shifted by </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">incrementIndex</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The index </span><span class="si">{}</span><span class="s2"> has shifted by </span><span class="si">{}</span><span class="s2"> = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">incrementIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="todo-5">
<h3>TODO 5<a class="headerlink" href="#todo-5" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">cesarEncoding</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Takes a text and encodes it.</span>

<span class="sd">  Args:</span>
<span class="sd">      text (str): text to be encoded</span>
<span class="sd">      k (int): character shift (positive and negative)</span>

<span class="sd">  Returns:</span>
<span class="sd">      str: encoded text</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">alphabet</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">]</span>
  <span class="n">text_encoded</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

  <span class="c1"># Loop though every character in the input text</span>
  <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
    <span class="c1"># TODO 5</span>
    <span class="c1"># 1. Kontrollieren ob der Character ein Buchstabe ist</span>
    <span class="c1"># 2. Suchen des Index des Buchstaben</span>
    <span class="c1"># 3. Inkrementieren oder dekrementieren des Indexes</span>
    <span class="c1"># 4. Suchen des neuen Buchstaben</span>
    <span class="k">pass</span>
  
  <span class="k">return</span> <span class="n">text_encoded</span>

<span class="c1"># Test of the function</span>
<span class="n">plain_text</span> <span class="o">=</span> <span class="s2">&quot;Mit ihren Bachelor-Studiengaengen stellt die HES-SO Valais-Wallis in Sitten ein echtes Kompetenz und Innovationszentrum dar&quot;</span>
<span class="n">cesarEncoding</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">plain_text</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="entwickeln-der-enigma">
<h2>Entwickeln der Enigma<a class="headerlink" href="#entwickeln-der-enigma" title="Permalink to this headline">¶</a></h2>
<p>Das Klassendiagram der Applikation:</p>
<p><img alt="Enigma Classdiagram" src="../../../_images/01-enigma_classdiagram.svg" /></p>
<div class="section" id="scrambler">
<h3>Scrambler<a class="headerlink" href="#scrambler" title="Permalink to this headline">¶</a></h3>
<p>Aufgabe 6-8</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Scrambler</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">type_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">startpos</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">custom</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a alphabet shuffle, this represents one rotor or a reflector. The configuration can be choosen from the first ever Enigma, the latest WWII Enigma machine, a Random pattern or a custom setting.</span>
<span class="sd">    The reflector and rotor settings are according to Wikipedia https://en.wikipedia.org/wiki/Enigma_rotor_details:</span>

<span class="sd">    Args:</span>
<span class="sd">        type_key (str): type of enigma rotor [&quot;etw&quot;, &quot;i&quot;, &quot;ii&quot;, &quot;iii&quot;, ..., &quot;custom&quot;]</span>
<span class="sd">        startpos (int, optional): rotor startposition. Defaults to 0.</span>
<span class="sd">        custom (string, optional): string of chars representing the custom configuration. Defaults to None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">]</span>

    <span class="c1"># Possible rotor configurations</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">&quot;etw&quot;</span>    <span class="p">:</span> <span class="s2">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span><span class="p">,</span>
      <span class="s2">&quot;i&quot;</span>      <span class="p">:</span> <span class="s2">&quot;EKMFLGDQVZNTOWYHXUSPAIBRCJ&quot;</span><span class="p">,</span>
      <span class="s2">&quot;ii&quot;</span>     <span class="p">:</span> <span class="s2">&quot;AJDKSIRUXBLHWTMCQGZNPYFVOE&quot;</span><span class="p">,</span>
      <span class="s2">&quot;iii&quot;</span>    <span class="p">:</span> <span class="s2">&quot;BDFHJLCPRTXVZNYEIWGAKMUSQO&quot;</span><span class="p">,</span>
      <span class="s2">&quot;iv&quot;</span>     <span class="p">:</span> <span class="s2">&quot;ESOVPZJAYQUIRHXLNFTGKDCMWB&quot;</span><span class="p">,</span>
      <span class="s2">&quot;v&quot;</span>      <span class="p">:</span> <span class="s2">&quot;VZBRGITYUPSDNHLXAWMJQOFECK&quot;</span><span class="p">,</span>
      <span class="s2">&quot;vi&quot;</span>     <span class="p">:</span> <span class="s2">&quot;JPGVOUMFYQBENHZRDKASXLICTW&quot;</span><span class="p">,</span>
      <span class="s2">&quot;vii&quot;</span>    <span class="p">:</span> <span class="s2">&quot;NZJHGRCXMYSWBOUFAIVLPEKQDT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;viii&quot;</span>   <span class="p">:</span> <span class="s2">&quot;FKQHTLXOCBJSPDZRAMEWNIUYGV&quot;</span><span class="p">,</span>
      <span class="s2">&quot;a&quot;</span>      <span class="p">:</span> <span class="s2">&quot;EJMZALYXVBWFCRQUONTSPIKHGD&quot;</span><span class="p">,</span>
      <span class="s2">&quot;b&quot;</span>      <span class="p">:</span> <span class="s2">&quot;YRUHQSLDPXNGOKMIEBFZCWVJAT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;c&quot;</span>      <span class="p">:</span> <span class="s2">&quot;FVPJIAOYEDRZXWGCTKUQSBNMHL&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># TODO 6</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">type_key</span> <span class="o">=</span> <span class="n">type_key</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">startpos</span> <span class="o">=</span> <span class="n">startpos</span>
    
    <span class="c1"># get the key</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_key</span> <span class="o">==</span> <span class="s2">&quot;custom&quot;</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getConfig</span><span class="p">(</span><span class="n">custom</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getConfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">configs</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">type_key</span><span class="p">])</span>

    <span class="c1"># setup initial position of rotors</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rol</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transformation</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">startpos</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getKey</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">getConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">str_config</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Transforms the string configuration into an int array</span>

<span class="sd">    Args:</span>
<span class="sd">        str_config (str): string of configuration. All alphabet characters need to be represented.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: list of int representing the alphabet positions of the config</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># TODO 7</span>
    <span class="k">return</span> <span class="n">config</span>

  <span class="k">def</span> <span class="nf">getKey</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the key of the current transformation config</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: string of characters of the current config</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">alphabet</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">]</span>
    <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span><span class="p">:</span>
      <span class="n">key</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">key</span>
  
  <span class="k">def</span> <span class="nf">rol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Rotating shift left of a string by n characters</span>
<span class="sd">       example: n=2</span>
<span class="sd">       &quot;Test&quot; =&gt; &quot;stTe&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        string (str): input string</span>
<span class="sd">        n (int): number of bits to shift</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: string rotated shift left by n chars</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO 8</span>
    <span class="k">return</span> <span class="n">string</span>

  <span class="k">def</span> <span class="nf">passthrough</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pass element through (index =&gt; element)</span>

<span class="sd">    Args:</span>
<span class="sd">        idx (int): index of character index to return</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: new character index</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

  <span class="k">def</span> <span class="nf">passthroughRev</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Reverse Passthrough, enter character index and return list index</span>

<span class="sd">    Returns:</span>
<span class="sd">       int: index of character index</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Rotate the rotors by one position</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rol</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transformation</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">setTransformation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transformation</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set manually the tranformation. E.g. to reset the machine</span>

<span class="sd">    Args:</span>
<span class="sd">        transformation (list): transformation list to be used</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span> <span class="o">=</span> <span class="n">transformation</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="test-scrambler">
<h3>Test Scrambler<a class="headerlink" href="#test-scrambler" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">scrambler</span> <span class="o">=</span> <span class="n">Scrambler</span><span class="p">(</span><span class="s2">&quot;E-t W_&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">scrambler</span><span class="o">.</span><span class="n">rol</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">scrambler</span><span class="o">.</span><span class="n">rol</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="enigma-machine">
<h3>Enigma Machine<a class="headerlink" href="#enigma-machine" title="Permalink to this headline">¶</a></h3>
<p>Aufgabe 9 - 11</p>
<p><img alt="Enigma Classdiagramm" src="../../../_images/01-enigma_enigmamachine_classdiagram.svg" /></p>
<p>EnigmaMachine Klassendiagramm</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">EnigmaMachine</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nb_rotors</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">rotor_types</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;iii&quot;</span><span class="p">,</span> <span class="s2">&quot;iii&quot;</span><span class="p">],</span> <span class="n">rotor_startpos</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">rotor_custom_configs</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">reflector_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">plugboard_config</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">print_specialchars</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enigma Virtual Machine</span>
<span class="sd">        nb_rotors (int, optional): number of rotors in the machine. Defaults to 3.</span>
<span class="sd">        rotor_types (list, optional): list of types rotors types [&quot;etw&quot;|&quot;i&quot;|&quot;ii&quot;|&quot;iii&quot;|&quot;iv&quot;|&quot;v&quot;|&quot;vi&quot;|&quot;vii&quot;|&quot;viii&quot;]. Needs to be size of nb_rotors. Defaults to [&quot;i&quot;, &quot;ii&quot;, &quot;iii&quot;].</span>
<span class="sd">        rotor_startpos (list, optional): list of int representing thestart positions of the rotors. Needs to be the size of nb_rotors. Defaults to [1, 2, 3].</span>
<span class="sd">        rotor_custom_configs (list, optional): list of int lists representing the custom rotor configuration, only needed if &quot;custom&quot; type is choosen. Needs to be the size of nb_rotors if used. Defaults to None</span>
<span class="sd">        reflector_type (str, optional): type of reflector [&quot;a&quot;|&quot;b&quot;|&quot;c&quot;]. Defaults to &quot;a&quot;.</span>
<span class="sd">        plugboard_config (list, optional): list of character combinations. Defaults to None, will result in A&lt;-&gt;Z, B&lt;-&gt;Y, ...</span>
<span class="sd">        print_specialchars (bool, optional): Print characters missing by enigma. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span> <span class="o">=</span> <span class="n">nb_rotors</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rotor_types</span> <span class="o">=</span> <span class="n">rotor_types</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rotor_startpos</span> <span class="o">=</span> <span class="n">rotor_startpos</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rotor_custom_configs</span> <span class="o">=</span> <span class="n">rotor_custom_configs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reflector_type</span> <span class="o">=</span> <span class="n">reflector_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">printspecialchars</span> <span class="o">=</span> <span class="n">print_specialchars</span>
    <span class="k">if</span> <span class="n">plugboard_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">plugboard_config</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;AZ&quot;</span><span class="p">,</span> <span class="s2">&quot;BY&quot;</span><span class="p">,</span> <span class="s2">&quot;CX&quot;</span><span class="p">,</span> <span class="s2">&quot;DW&quot;</span><span class="p">,</span> <span class="s2">&quot;EV&quot;</span><span class="p">,</span> <span class="s2">&quot;FU&quot;</span><span class="p">,</span> <span class="s2">&quot;GT&quot;</span><span class="p">,</span> <span class="s2">&quot;HS&quot;</span><span class="p">,</span> <span class="s2">&quot;IR&quot;</span><span class="p">,</span> <span class="s2">&quot;JQ&quot;</span><span class="p">,</span> <span class="s2">&quot;KP&quot;</span><span class="p">,</span> <span class="s2">&quot;LO&quot;</span><span class="p">,</span> <span class="s2">&quot;MN&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">plugboard_config</span> <span class="o">=</span> <span class="n">plugboard_config</span>

    <span class="c1"># create the rotors and reflector</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">original_rotors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reflector</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plugboard</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">setupRotors</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setupReflector</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setupPlugboard</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">setupRotors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Setup the rotors configuration</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span><span class="p">):</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotor_custom_configs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Scrambler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotor_types</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotor_startpos</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Scrambler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotor_types</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotor_startpos</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotor_custom_configs</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">original_rotors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">transformation</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">setupReflector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Setup the reflector</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reflector</span> <span class="o">=</span> <span class="n">Scrambler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reflector_type</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">setupPlugboard</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Setup the plugboard&quot;&quot;&quot;</span>
    <span class="c1"># Transform into scrambler key</span>
    <span class="n">alphabet</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">]</span>
    <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">26</span>
    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plugboard_config</span><span class="p">:</span>
      <span class="c1"># TODO 9</span>
      <span class="k">pass</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">plugboard</span> <span class="o">=</span> <span class="n">Scrambler</span><span class="p">(</span><span class="s2">&quot;custom&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">printEnigmaSetup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print Enigma setup of plugboard, rotors and reflector</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enigma Setup&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;============</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># TODO 10</span>

  <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Restart the original rotor start positions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">setTransformation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_rotors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

  <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Encode and decode a string</span>

<span class="sd">    Args:</span>
<span class="sd">        text (str): string to encode</span>

<span class="sd">    Returns:</span>
<span class="sd">        str : depending on the input string, the encoded or decoded output</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ln</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">encrypted_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
      <span class="c1"># get char position in alphabet</span>
      <span class="n">num</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">%</span> <span class="mi">97</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">num</span> <span class="o">&gt;</span> <span class="mi">25</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
        <span class="c1"># Special character</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">printspecialchars</span><span class="p">):</span>
          <span class="n">encrypted_text</span> <span class="o">+=</span> <span class="n">l</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="c1"># encodable character</span>
        <span class="n">ln</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># TODO 11</span>
        <span class="c1"># pass through plugboard</span>
        <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plugboard</span><span class="o">.</span><span class="n">passthrough</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        
        <span class="c1"># pass through all rotors</span>
        <span class="c1"># reflected by the reflector</span>
        <span class="c1"># pass through reverse all the rotors</span>
        <span class="c1"># pass through reverse the plugboard</span>
    
        <span class="c1"># Encode character</span>
        <span class="n">encrypted_text</span> <span class="o">+=</span> <span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">97</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span>

        <span class="c1"># rotate the rotors</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span><span class="p">):</span>
          <span class="k">if</span> <span class="p">(</span><span class="n">ln</span> <span class="o">%</span> <span class="p">((</span><span class="n">i</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">rotate</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">encrypted_text</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="test">
<h2>Test<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plaintext</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Die Enigma-Maschinen waren eine Reihe von elektromechanischen Rotor-Chiffriermaschinen, die Anfang bis Mitte des 20. Jahrhunderts entwickelt und eingesetzt wurden, um die kommerzielle, diplomatische und militärische Kommunikation zu schützen. Die Enigma wurde von dem deutschen Ingenieur Arthur Scherbius am Ende des Ersten Weltkriegs erfunden. Frühe Modelle wurden ab den frühen 1920er Jahren kommerziell genutzt und von den Militär- und Regierungsstellen mehrerer Länder übernommen, vor allem von Nazi-Deutschland vor und während des Zweiten Weltkriegs. Es wurden mehrere verschiedene Enigma-Modelle hergestellt, aber die deutschen Militärmodelle mit einer Steckplatte waren die komplexesten. Auch japanische und italienische Modelle waren in Gebrauch.&quot;&quot;&quot;</span>
<span class="n">enigma</span> <span class="o">=</span> <span class="n">EnigmaMachine</span><span class="p">(</span><span class="n">nb_rotors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">rotor_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;i&quot;</span><span class="p">,</span><span class="s2">&quot;iii&quot;</span><span class="p">,</span><span class="s2">&quot;vi&quot;</span><span class="p">],</span> <span class="n">rotor_startpos</span><span class="o">=</span><span class="p">[</span><span class="mi">17</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">12</span><span class="p">],</span> <span class="n">reflector_type</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">print_specialchars</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Plaintext:</span><span class="se">\n</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">plaintext</span><span class="p">))</span>

<span class="c1"># Encrypt</span>
<span class="n">enigma</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">encrypted_text</span> <span class="o">=</span> <span class="n">enigma</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">plaintext</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Encrypted text:</span><span class="se">\n</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">encrypted_text</span><span class="p">))</span>

<span class="c1"># Decrypt</span>
<span class="n">enigma</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">plaintext</span> <span class="o">=</span> <span class="n">enigma</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encrypted_text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Plaintext:</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">plaintext</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Plaintext:
Die Enigma-Maschinen waren eine Reihe von elektromechanischen Rotor-Chiffriermaschinen, die Anfang bis Mitte des 20. Jahrhunderts entwickelt und eingesetzt wurden, um die kommerzielle, diplomatische und militärische Kommunikation zu schützen. Die Enigma wurde von dem deutschen Ingenieur Arthur Scherbius am Ende des Ersten Weltkriegs erfunden. Frühe Modelle wurden ab den frühen 1920er Jahren kommerziell genutzt und von den Militär- und Regierungsstellen mehrerer Länder übernommen, vor allem von Nazi-Deutschland vor und während des Zweiten Weltkriegs. Es wurden mehrere verschiedene Enigma-Modelle hergestellt, aber die deutschen Militärmodelle mit einer Steckplatte waren die komplexesten. Auch japanische und italienische Modelle waren in Gebrauch.

Encrypted text:
qwn hrvsdg-yhzjugglt egeyv xdkw bkxoo gnc pebiftctxlnhqdadgrm zprda-nyzqswazzqqkeefkax, xqo rfecur zta pbfqi abr 20. otspyftrtpjp dsoskrmtsm txa bwslnxwlrz ekwhir, qg kqa aychooioocri, pridavekyyqvs fzb oskbnäeqfbud nlpkdlvpyoftt nb eslüggso. jjz wajreq qlhcw hdi bcp jkxqomfiq pswzbehmk bwhven osbucjjfn dn rxst xyc tzabhe ekfhzsgrer ddgdbbcw. teüvc jystgfd knexyo gi bcj dsüffs 1920cj iprbke tmvaxpgytnb hdcrbyw yhl hev xjc lbsbxäe- vqb haexshgqbpopruqvj gtjmrlrj bäunoh üjxwqrepfq, gfu wvuyd lfx iyqc-jdryjqgdufu eqp lxk täeyowj uvb ildhemf zyhusgbzux. se oghuvi sdivbds zpnegdeatuka aqwuah-avkokmy ajgllwggedq, hili mls yzoqeszum bpfjvägltcdtdm sqh qpyfx cduptmznenk hddal tzi bzadplvxmjzx. svun dlvsomfdxf vqf jrzuhlbuyrrt swzmgyk gytdx su dhybjllp.

Plaintext:
die enigma-maschinen waren eine reihe von elektromechanischen rotor-chiffriermaschinen, die anfang bis mitte des 20. jahrhunderts entwickelt und eingesetzt wurden, um die kommerzielle, diplomatische und militärische kommunikation zu schützen. die enigma wurde von dem deutschen ingenieur arthur scherbius am ende des ersten weltkriegs erfunden. frühe modelle wurden ab den frühen 1920er jahren kommerziell genutzt und von den militär- und regierungsstellen mehrerer länder übernommen, vor allem von nazi-deutschland vor und während des zweiten weltkriegs. es wurden mehrere verschiedene enigma-modelle hergestellt, aber die deutschen militärmodelle mit einer steckplatte waren die komplexesten. auch japanische und italienische modelle waren in gebrauch.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="verschlusselte-kommunikation-mit-eurem-kollegen">
<h2>Verschlüsselte Kommunikation mit eurem Kollegen<a class="headerlink" href="#verschlusselte-kommunikation-mit-eurem-kollegen" title="Permalink to this headline">¶</a></h2>
<p>Als letzte Aufgabe schickt eurem Studienkollegen einen verschlüsselte Nachricht. Hierzu müsst Ihr Ihnen die verschlüsselte Nachricht aber auch das Setup übermitteln.</p>
<div class="section" id="verschlusselte-nachricht">
<h3>Verschlüsselte Nachricht<a class="headerlink" href="#verschlusselte-nachricht" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;TODO&quot;</span>
<span class="n">enigma</span> <span class="o">=</span> <span class="n">EnigmaMachine</span><span class="p">(</span><span class="n">nb_rotors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">rotor_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;iii&quot;</span><span class="p">,</span> <span class="s2">&quot;iv&quot;</span><span class="p">],</span> <span class="n">rotor_startpos</span><span class="o">=</span><span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="n">reflector_type</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">print_specialchars</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">enigma</span><span class="o">.</span><span class="n">printEnigmaSetup</span><span class="p">()</span>
<span class="n">encrypted_text</span> <span class="o">=</span> <span class="n">enigma</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nachricht</span><span class="se">\n</span><span class="s2">=========</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">encrypted_text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Enigma Setup
============

* Rotor 0
  - Type      : i
  - Key       : USPAIBRCJEKMFLGDQVZNTOWYHX
  - StartPos  : 17
* Rotor 1
  - Type      : iii
  - Key       : SQOBDFHJLCPRTXVZNYEIWGAKMU
  - StartPos  : 23
* Rotor 2
  - Type      : iv
  - Key       : RHXLNFTGKDCMWBESOVPZJAYQUI
  - StartPos  : 12
* Reflector
  - Type      : a
* Plugboard
  - Key       : [&#39;AZ&#39;, &#39;BY&#39;, &#39;CX&#39;, &#39;DW&#39;, &#39;EV&#39;, &#39;FU&#39;, &#39;GT&#39;, &#39;HS&#39;, &#39;IR&#39;, &#39;JQ&#39;, &#39;KP&#39;, &#39;LO&#39;, &#39;MN&#39;]

Nachricht
=========

wrqc
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="nachricht-des-kollegen-entschlusseln">
<h3>Nachricht des Kollegen entschlüsseln<a class="headerlink" href="#nachricht-des-kollegen-entschlusseln" title="Permalink to this headline">¶</a></h3>
<p>Benutzt nun die erhalten Konfiguration und Nachricht eures Kollegen um diese zu entschlüsseln.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;message from Colleague&quot;</span>
<span class="c1"># Change the parameter accordingly</span>
<span class="n">enigma</span> <span class="o">=</span> <span class="n">EnigmaMachine</span><span class="p">(</span><span class="n">nb_rotors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">rotor_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;iii&quot;</span><span class="p">,</span> <span class="s2">&quot;iv&quot;</span><span class="p">],</span> <span class="n">rotor_startpos</span><span class="o">=</span><span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="n">reflector_type</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">print_specialchars</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">enigma</span><span class="o">.</span><span class="n">printEnigmaSetup</span><span class="p">()</span>
<span class="n">decrypted_text</span> <span class="o">=</span> <span class="n">enigma</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nachricht</span><span class="se">\n</span><span class="s2">=========</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">decrypted_text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Enigma Setup
============

* Rotor 0
  - Type      : i
  - Key       : USPAIBRCJEKMFLGDQVZNTOWYHX
  - StartPos  : 17
* Rotor 1
  - Type      : iii
  - Key       : SQOBDFHJLCPRTXVZNYEIWGAKMU
  - StartPos  : 23
* Rotor 2
  - Type      : iv
  - Key       : RHXLNFTGKDCMWBESOVPZJAYQUI
  - StartPos  : 12
* Reflector
  - Type      : a
* Plugboard
  - Key       : [&#39;AZ&#39;, &#39;BY&#39;, &#39;CX&#39;, &#39;DW&#39;, &#39;EV&#39;, &#39;FU&#39;, &#39;GT&#39;, &#39;HS&#39;, &#39;IR&#39;, &#39;JQ&#39;, &#39;KP&#39;, &#39;LO&#39;, &#39;MN&#39;]

Nachricht
=========

xzplxtj hpwh kjuvsmulj
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="solution">
<h2>Solution<a class="headerlink" href="#solution" title="Permalink to this headline">¶</a></h2>
<p>Kein Schummeln!!</p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># TODO 1</span>
<span class="n">alphabet</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">isLetter</span><span class="p">(</span><span class="n">character</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Checks if the character is a letter in the alphabet</span>

<span class="sd">  Args:</span>
<span class="sd">      character (str): character to verify</span>

<span class="sd">  Returns:</span>
<span class="sd">      bool: if character is a letter</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="c1"># TODO 2</span>
  <span class="k">return</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">alphabet</span>

<span class="k">def</span> <span class="nf">idxOfLetter</span><span class="p">(</span><span class="n">letter</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot; Function returns the index of the letter within the alphabet</span>

<span class="sd">  Args:</span>
<span class="sd">      letter (str): letter to search</span>

<span class="sd">  Returns:</span>
<span class="sd">      int: index of letter in the alphabet</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="c1"># TODO 3</span>
  <span class="k">return</span> <span class="n">alphabet</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">incrementIndex</span><span class="p">(</span><span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;increments the index according to the k value, the output value stays within the range [0-25]</span>

<span class="sd">  Args:</span>
<span class="sd">      index (int): index of letter</span>
<span class="sd">      k (int): index shift</span>

<span class="sd">  Returns:</span>
<span class="sd">      int: new index of letter</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="c1"># TODO 4</span>
  <span class="n">idx</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="n">k</span>
  <span class="k">return</span> <span class="n">idx</span> <span class="o">%</span> <span class="mi">26</span>

<span class="k">def</span> <span class="nf">cesarEncoding</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Takes a text and encodes it.</span>

<span class="sd">  Args:</span>
<span class="sd">      text (str): text to be encoded</span>
<span class="sd">      k (int): character shift (positive and negative)</span>

<span class="sd">  Returns:</span>
<span class="sd">      str: encoded text</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">text_encoded</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

  <span class="c1"># Loop though every character in the input text</span>
  <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span>
    <span class="c1"># TODO 5</span>
    <span class="c1"># 1. Kontrollieren ob der Character ein Buchstabe ist</span>
    <span class="k">if</span> <span class="n">isLetter</span><span class="p">(</span><span class="n">char</span><span class="p">):</span>
      <span class="c1"># 2. Suchen des Index des Buchstaben</span>
      <span class="n">index</span> <span class="o">=</span> <span class="n">idxOfLetter</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
      <span class="c1"># 3. Inkrementieren oder dekrementieren des Indexes um k</span>
      <span class="n">new_index</span> <span class="o">=</span> <span class="n">incrementIndex</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
      <span class="c1"># 4. Suchen des neuen Buchstaben</span>
      <span class="n">text_encoded</span> <span class="o">+=</span> <span class="n">alphabet</span><span class="p">[</span><span class="n">new_index</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># Append character if not a letter</span>
      <span class="n">text_encoded</span> <span class="o">+=</span> <span class="n">char</span>

  <span class="k">return</span> <span class="n">text_encoded</span>


<span class="c1"># Test of the function</span>
<span class="n">plain_text</span> <span class="o">=</span> <span class="s2">&quot;Mit ihren Bachelor-Studiengaengen stellt die HES-SO Valais-Wallis in Sitten ein echtes Kompetenz und Innovationszentrum dar&quot;</span>
<span class="n">encoded_text</span> <span class="o">=</span> <span class="n">cesarEncoding</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">plain_text</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">decoded_text</span> <span class="o">=</span> <span class="n">cesarEncoding</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">encoded_text</span><span class="p">,</span> <span class="n">k</span><span class="o">=-</span><span class="mi">3</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">plain_text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">encoded_text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">decoded_text</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Scrambler</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">type_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">startpos</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">custom</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a alphabet shuffle, this represents one rotor or a reflector. The configuration can be choosen from the first ever Enigma, the latest WWII Enigma machine, a Random pattern or a custom setting.</span>
<span class="sd">    The reflector and rotor settings are according to Wikipedia https://en.wikipedia.org/wiki/Enigma_rotor_details:</span>

<span class="sd">    Args:</span>
<span class="sd">        type_key (str): type of enigma rotor [&quot;etw&quot;, &quot;i&quot;, &quot;ii&quot;, &quot;iii&quot;, ..., &quot;custom&quot;]</span>
<span class="sd">        startpos (int, optional): rotor startposition. Defaults to 0.</span>
<span class="sd">        custom (string, optional): string of chars representing the custom configuration. Defaults to None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">]</span>

    <span class="c1"># Possible rotor configurations</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">&quot;etw&quot;</span>    <span class="p">:</span> <span class="s2">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span><span class="p">,</span>
      <span class="s2">&quot;i&quot;</span>      <span class="p">:</span> <span class="s2">&quot;EKMFLGDQVZNTOWYHXUSPAIBRCJ&quot;</span><span class="p">,</span>
      <span class="s2">&quot;ii&quot;</span>     <span class="p">:</span> <span class="s2">&quot;AJDKSIRUXBLHWTMCQGZNPYFVOE&quot;</span><span class="p">,</span>
      <span class="s2">&quot;iii&quot;</span>    <span class="p">:</span> <span class="s2">&quot;BDFHJLCPRTXVZNYEIWGAKMUSQO&quot;</span><span class="p">,</span>
      <span class="s2">&quot;iv&quot;</span>     <span class="p">:</span> <span class="s2">&quot;ESOVPZJAYQUIRHXLNFTGKDCMWB&quot;</span><span class="p">,</span>
      <span class="s2">&quot;v&quot;</span>      <span class="p">:</span> <span class="s2">&quot;VZBRGITYUPSDNHLXAWMJQOFECK&quot;</span><span class="p">,</span>
      <span class="s2">&quot;vi&quot;</span>     <span class="p">:</span> <span class="s2">&quot;JPGVOUMFYQBENHZRDKASXLICTW&quot;</span><span class="p">,</span>
      <span class="s2">&quot;vii&quot;</span>    <span class="p">:</span> <span class="s2">&quot;NZJHGRCXMYSWBOUFAIVLPEKQDT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;viii&quot;</span>   <span class="p">:</span> <span class="s2">&quot;FKQHTLXOCBJSPDZRAMEWNIUYGV&quot;</span><span class="p">,</span>
      <span class="s2">&quot;a&quot;</span>      <span class="p">:</span> <span class="s2">&quot;EJMZALYXVBWFCRQUONTSPIKHGD&quot;</span><span class="p">,</span>
      <span class="s2">&quot;b&quot;</span>      <span class="p">:</span> <span class="s2">&quot;YRUHQSLDPXNGOKMIEBFZCWVJAT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;c&quot;</span>      <span class="p">:</span> <span class="s2">&quot;FVPJIAOYEDRZXWGCTKUQSBNMHL&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># TODO 6</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">type_key</span> <span class="o">=</span> <span class="n">type_key</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">startpos</span> <span class="o">=</span> <span class="n">startpos</span>
    
    <span class="c1"># get the key</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_key</span> <span class="o">==</span> <span class="s2">&quot;custom&quot;</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getConfig</span><span class="p">(</span><span class="n">custom</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getConfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">configs</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">type_key</span><span class="p">])</span>

    <span class="c1"># setup initial position of rotors</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rol</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transformation</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">startpos</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getKey</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">getConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">str_config</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Transforms the string configuration into an int array</span>

<span class="sd">    Args:</span>
<span class="sd">        str_config (str): string of configuration. All alphabet characters need to be represented.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: list of int representing the alphabet positions of the config</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># TODO 7</span>
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">str_config</span><span class="p">:</span>
      <span class="n">config</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">char</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">config</span>

  <span class="k">def</span> <span class="nf">getKey</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the key of the current transformation config</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: string of characters of the current config</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">alphabet</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">]</span>
    <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span><span class="p">:</span>
      <span class="n">key</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">key</span>
  
  <span class="k">def</span> <span class="nf">rol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Rotating shift left of a string by n characters</span>
<span class="sd">       example: n=2</span>
<span class="sd">       &quot;Test&quot; =&gt; &quot;stTe&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        string (str): input string</span>
<span class="sd">        n (int): number of bits to shift</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: string rotated shift left by n chars</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO 8</span>
    <span class="k">return</span> <span class="n">string</span><span class="p">[</span><span class="n">n</span><span class="p">:]</span> <span class="o">+</span> <span class="n">string</span><span class="p">[:</span><span class="n">n</span><span class="p">]</span>

  <span class="k">def</span> <span class="nf">passthrough</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pass element through (index =&gt; element)</span>

<span class="sd">    Args:</span>
<span class="sd">        idx (int): index of character index to return</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: new character index</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

  <span class="k">def</span> <span class="nf">passthroughRev</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Reverse Passthrough, enter character index and return list index</span>

<span class="sd">    Returns:</span>
<span class="sd">       int: index of character index</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Rotate the rotors by one position</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rol</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transformation</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">setTransformation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transformation</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set manually the tranformation. E.g. to reset the machine</span>

<span class="sd">    Args:</span>
<span class="sd">        transformation (list): transformation list to be used</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">transformation</span> <span class="o">=</span> <span class="n">transformation</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">EnigmaMachine</span><span class="p">:</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nb_rotors</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">rotor_types</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;iii&quot;</span><span class="p">,</span> <span class="s2">&quot;iii&quot;</span><span class="p">],</span> <span class="n">rotor_startpos</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">rotor_custom_configs</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">reflector_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">plugboard_config</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">print_specialchars</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enigma Virtual Machine</span>
<span class="sd">        nb_rotors (int, optional): number of rotors in the machine. Defaults to 3.</span>
<span class="sd">        rotor_types (list, optional): list of types rotors types [&quot;etw&quot;|&quot;i&quot;|&quot;ii&quot;|&quot;iii&quot;|&quot;iv&quot;|&quot;v&quot;|&quot;vi&quot;|&quot;vii&quot;|&quot;viii&quot;]. Needs to be size of nb_rotors. Defaults to [&quot;i&quot;, &quot;ii&quot;, &quot;iii&quot;].</span>
<span class="sd">        rotor_startpos (list, optional): list of int representing thestart positions of the rotors. Needs to be the size of nb_rotors. Defaults to [1, 2, 3].</span>
<span class="sd">        rotor_custom_configs (list, optional): list of int lists representing the custom rotor configuration, only needed if &quot;custom&quot; type is choosen. Needs to be the size of nb_rotors if used. Defaults to None</span>
<span class="sd">        reflector_type (str, optional): type of reflector [&quot;a&quot;|&quot;b&quot;|&quot;c&quot;]. Defaults to &quot;a&quot;.</span>
<span class="sd">        plugboard_config (list, optional): list of character combinations. Defaults to None, will result in A&lt;-&gt;Z, B&lt;-&gt;Y, ...</span>
<span class="sd">        print_specialchars (bool, optional): Print characters missing by enigma. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span> <span class="o">=</span> <span class="n">nb_rotors</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rotor_types</span> <span class="o">=</span> <span class="n">rotor_types</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rotor_startpos</span> <span class="o">=</span> <span class="n">rotor_startpos</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rotor_custom_configs</span> <span class="o">=</span> <span class="n">rotor_custom_configs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reflector_type</span> <span class="o">=</span> <span class="n">reflector_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">printspecialchars</span> <span class="o">=</span> <span class="n">print_specialchars</span>
    <span class="k">if</span> <span class="n">plugboard_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">plugboard_config</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;AZ&quot;</span><span class="p">,</span> <span class="s2">&quot;BY&quot;</span><span class="p">,</span> <span class="s2">&quot;CX&quot;</span><span class="p">,</span> <span class="s2">&quot;DW&quot;</span><span class="p">,</span> <span class="s2">&quot;EV&quot;</span><span class="p">,</span> <span class="s2">&quot;FU&quot;</span><span class="p">,</span> <span class="s2">&quot;GT&quot;</span><span class="p">,</span> <span class="s2">&quot;HS&quot;</span><span class="p">,</span> <span class="s2">&quot;IR&quot;</span><span class="p">,</span> <span class="s2">&quot;JQ&quot;</span><span class="p">,</span> <span class="s2">&quot;KP&quot;</span><span class="p">,</span> <span class="s2">&quot;LO&quot;</span><span class="p">,</span> <span class="s2">&quot;MN&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">plugboard_config</span> <span class="o">=</span> <span class="n">plugboard_config</span>

    <span class="c1"># create the rotors and reflector</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">original_rotors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reflector</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plugboard</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">setupRotors</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setupReflector</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setupPlugboard</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">setupRotors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Setup the rotors configuration</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span><span class="p">):</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotor_custom_configs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Scrambler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotor_types</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotor_startpos</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Scrambler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotor_types</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotor_startpos</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotor_custom_configs</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">original_rotors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">transformation</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">setupReflector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Setup the reflector</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reflector</span> <span class="o">=</span> <span class="n">Scrambler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reflector_type</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">setupPlugboard</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Setup the plugboard&quot;&quot;&quot;</span>
    <span class="c1"># Transform into scrambler key</span>
    <span class="n">alphabet</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">]</span>
    <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">26</span>
    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plugboard_config</span><span class="p">:</span>
      <span class="c1"># TODO 9</span>
      <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">[:</span><span class="n">alphabet</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elem</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span> <span class="o">+</span> <span class="n">elem</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">key</span><span class="p">[</span><span class="n">alphabet</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elem</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
      <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">[:</span><span class="n">alphabet</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elem</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span> <span class="o">+</span> <span class="n">elem</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">key</span><span class="p">[</span><span class="n">alphabet</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elem</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">plugboard</span> <span class="o">=</span> <span class="n">Scrambler</span><span class="p">(</span><span class="s2">&quot;custom&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">printEnigmaSetup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print Enigma setup of plugboard, rotors and reflector</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enigma Setup&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;============</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># TODO 10</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span><span class="p">):</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;* Rotor </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  - Type      : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">type_key</span><span class="p">))</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  - Key       : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">key</span><span class="p">))</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  - StartPos  : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">startpos</span><span class="p">))</span>
      
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;* Reflector&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  - Type      : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reflector</span><span class="o">.</span><span class="n">type_key</span><span class="p">))</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reflector</span><span class="o">.</span><span class="n">type_key</span> <span class="o">==</span> <span class="s2">&quot;custom&quot;</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">reflector</span><span class="o">.</span><span class="n">type_key</span> <span class="o">==</span> <span class="s2">&quot;random&quot;</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  - Key       : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reflector</span><span class="o">.</span><span class="n">key</span><span class="p">))</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  - StartPos  : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reflector</span><span class="o">.</span><span class="n">startpos</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;* Plugboard&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  - Key       : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plugboard_config</span><span class="p">))</span>

  <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Restart the original rotor start positions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">setTransformation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_rotors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

  <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Encode and decode a string</span>

<span class="sd">    Args:</span>
<span class="sd">        text (str): string to encode</span>

<span class="sd">    Returns:</span>
<span class="sd">        str : depending on the input string, the encoded or decoded output</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ln</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">encrypted_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
      <span class="c1"># get char position in alphabet</span>
      <span class="n">num</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">%</span> <span class="mi">97</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">num</span> <span class="o">&gt;</span> <span class="mi">25</span> <span class="ow">or</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
        <span class="c1"># Special character</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">printspecialchars</span><span class="p">):</span>
          <span class="n">encrypted_text</span> <span class="o">+=</span> <span class="n">l</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="c1"># encodable character</span>
        <span class="n">ln</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># TODO 11</span>
        <span class="c1"># pass through plugboard</span>
        <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plugboard</span><span class="o">.</span><span class="n">passthrough</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        
        <span class="c1"># pass through rotors</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span><span class="p">):</span>
          <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">passthrough</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>

        <span class="c1"># reflected by the reflector</span>
        <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reflector</span><span class="o">.</span><span class="n">passthrough</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>

        <span class="c1"># pass through rotors from the other side</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span><span class="p">):</span>
          <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">passthroughRev</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>

        <span class="c1"># pass through plugboard from the other side</span>
        <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plugboard</span><span class="o">.</span><span class="n">passthroughRev</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
    
        <span class="c1"># Encode character</span>
        <span class="n">encrypted_text</span> <span class="o">+=</span> <span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">97</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span>

        <span class="c1"># rotate the rotors</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nb_rotors</span><span class="p">):</span>
          <span class="k">if</span> <span class="p">(</span><span class="n">ln</span> <span class="o">%</span> <span class="p">((</span><span class="n">i</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rotors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">rotate</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">encrypted_text</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content-de/python/advanced"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="01-enigma-lab.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Aufgabenstellung</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../java/maze/00-intro.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Maze Labor</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By HEI-Vs - Silvan Zahno<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>